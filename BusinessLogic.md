# 业务逻辑

## 编辑冲突

当多个用户同时编辑同一文档时，会出现编辑冲突，v1.0.0 版本暂不支持编辑冲突的解决，而是通过加锁的方式避免编辑冲突的发生，即当某个用户编辑某个文档时，其他用户无法编辑该文档，直到该用户编辑完成或者取消编辑，其他用户才可编辑该文档

## 权限管理

`Newbie Docs 系统管理员` > `可管理` > `可编辑` > `可阅读` > `ALL`

### 知识库

| 操作     | 需拥有的权限             |
| -------- | ------------------------ |
| 查看     | `ALL`                    |
| 新建     | `Newbie Docs 系统管理员` |
| 编辑     | `知识库-可编辑`          |
| 删除     | `知识库-可管理`          |
| 权限管理 | `知识库-可管理`          |

### 文档集

| 操作     | 需拥有的权限                     |
| -------- | -------------------------------- |
| 查看     | `ALL`                            |
| 新建     | `知识库-可编辑`                  |
| 编辑     | `知识库-可编辑` \| `文档-可编辑` |
| 重命名   | `知识库-可编辑` \| `文档-可编辑` |
| 复制     | `知识库-可编辑` \| `文档-可编辑` |
| 拖拽     | `知识库-可编辑` \| `文档-可编辑` |
| 删除     | `知识库-可管理` \| `文档-可管理` |
| 权限管理 | `知识库-可管理` \|`文档-可管理`  |

### 特殊说明

- `可管理` 默认拥有 `可编辑` 与 `可阅读` 权限，`可编辑` 默认拥有 `可阅读` 权限，`Newbie-Docs 系统管理员` 拥有以上所有权限
- 在知识库拥有的权限将默认继承到知识库下的文档集中
- 当新增了某个知识库或某个文档某人的 `可阅读` 级别权限时，默认开启 `仅拥有权限人才可查看` 对应知识库或文档，否则默认所有人都可查看
- 文档集中拥有某个节点的 `可编辑` 权限后，默认该用户拥有该节点下所有子节点的 `可编辑` 权限（无限深度），`可管理`、`可阅读` 同理